import{r as t,C as v,W as L,a as h,j as e,P,_ as n,S as T,b as W,H as y}from"./index-B1FgG9Im.js";import b from"./Categories-97Chf7Xf.js";function A(){let{addProductToCart:a,cartItemsNo:u,setCartItemsNo:d}=t.useContext(v),{addProductToWishList:m}=t.useContext(L);t.useEffect(()=>{E()},[]);let[o,j]=t.useState([]),[C,g]=t.useState(!1),[p,f]=t.useState(!1),[r,_]=t.useState([]),[c,S]=t.useState([]);function E(){h.get("https://ecommerce.routemisr.com/api/v1/products").then(({data:s})=>j(s.data)).catch(s=>console.log(s))}async function N(s){g(!0);let l=[...r],i=l.pop();console.log(i),_(l),setTimeout(()=>{r[s]=!0,_(r),console.log(r)},10),console.log(r,"current");let x=await a(s);if(x.data.status=="success"){let I=u+1;d(I),n.success(x.data.message,{position:"bottom-right"})}else n.error(x.response.data.message,{position:"bottom-right"});g(!1)}async function w(s){c[s]=!0,f(!0);let l=structuredClone(c);console.log("curent ids",c),S(l);let i=await m(s);console.log("heloooo wish",s),i.status=="success"?n.success(i.message,{position:"bottom-right"}):n.error("error")}return e.jsx(e.Fragment,{children:e.jsx("div",{className:"row",children:o.map(s=>e.jsx(P,{loading:C,isFilled:p,addToWishList:w,currentIds:r,addCart:N,product:s,currentWishListIds:c},s.id))})})}const F="/E-commerce-/assets/41nN4nvKaAL._AC_SY200_-CloKJZzR.jpg",M="/E-commerce-/assets/61cSNgtEISL._AC_SY200_-DTIvo6sT.jpg",H="/E-commerce-/assets/XCM_Manual_1396328_4379574_Egypt_EG_BAU_GW_DC_SL_Jewelry_379x304_1X._SY304_CB650636675_-D_fUbpy0.jpg",X="/E-commerce-/assets/XCM_Manual_1533480_5305769_379x304_1X._SY304_CB616236518_-CWvJCiWj.jpg";function Y(){var a={dots:!0,infinite:!0,lazyLoad:!0,speed:500,slidesToShow:1,slidesToScroll:1};return t.useEffect(()=>{},[]),t.useState(0),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"row justify-center",children:[e.jsx("div",{className:"w-1/4 ",children:e.jsxs(T,{className:" ",...a,children:[e.jsx("img",{src:F,className:"",alt:""}),e.jsx("img",{src:M,alt:""})]})}),e.jsxs("div",{className:"w-1/4",children:[e.jsx("img",{src:H,className:"",alt:""}),e.jsx("img",{src:X,alt:""})]})]})})}function J(){let[a,u]=t.useState([]);t.useEffect(()=>{d()},[]);function d(){h.get("https://ecommerce.routemisr.com/api/v1/products").then(o=>{console.log(o.data),u(o.data.data)}).catch(o=>console.log(o))}t.useState(0);let m=t.useContext(W);return console.log(m),e.jsxs(e.Fragment,{children:[e.jsxs(y,{children:[e.jsx("meta",{charSet:"utf-8"}),e.jsx("title",{children:"Home"})]}),e.jsx(Y,{}),e.jsx(b,{}),e.jsx("div",{className:"row",children:e.jsx(A,{})})]})}export{J as default};
